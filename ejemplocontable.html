<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Clasificación Contable</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --success-color: #27ae60;
            --danger-color: #e74c3c;
            --warning-color: #f39c12;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --patrimonio-color: #9b59b6;
            --gastos-color: #e67e22;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
                border-radius: 10px;
  max-width: 900px;
  margin: 90px auto;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        h1 {
            font-size: 1.8rem;
            margin-bottom: 10px;
        }
        
        .description {
            font-size: 1rem;
            opacity: 0.9;
            max-width: 600px;
        }
        
        .controls {
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
        }
        
        .search-box {
            flex: 1;
            min-width: 200px;
        }
        
        .search-box input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .filter-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        select, button {
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 0.9rem;
            background-color: white;
            cursor: pointer;
        }
        
        button {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .btn-danger {
            background-color: var(--danger-color);
        }
        
        .btn-danger:hover {
            background-color: #c0392b;
        }
        
        .btn-success {
            background-color: var(--success-color);
        }
        
        .btn-success:hover {
            background-color: #219653;
        }
        
        .stats {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .stat-card {
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            flex: 1;
            min-width: 150px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }
        
        .comparative-table {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background-color: var(--primary-color);
            color: white;
            padding: 15px;
            text-align: left;
            position: sticky;
            top: 0;
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }
        
        tr:hover {
            background-color: #f9f9f9;
        }
        
        .category-activo {
            border-left: 4px solid var(--success-color);
        }
        
        .category-pasivo {
            border-left: 4px solid var(--danger-color);
        }
        
        .category-patrimonio {
            border-left: 4px solid var(--patrimonio-color);
        }
        
        .category-ingresos {
            border-left: 4px solid var(--warning-color);
        }
        
        .category-gastos {
            border-left: 4px solid var(--gastos-color);
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        .pagination button {
            padding: 8px 15px;
            background-color: white;
            color: var(--primary-color);
            border: 1px solid #ddd;
        }
        
        .pagination button.active {
            background-color: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 0.9rem;
            margin-top: 40px;
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .filter-group {
                justify-content: center;
            }
            
            th, td {
                padding: 10px;
                font-size: 0.9rem;
            }
        }
/* Solo estilos para el botón "Volver atrás" */
.back-button {
  display: inline-block;
  padding: 10px 18px;
  font-family: Arial, sans-serif;
  font-size: 16px;
  text-decoration: none;
  border-radius: 8px;
  border: 2px solid #333;
  background: #fff;
  color: #333;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.08);
  transition: transform 0.12s ease, box-shadow 0.12s ease;
  user-select: none;
}

/* Efecto al pasar el ratón */
.back-button:hover,
.back-button:focus {
  transform: translateY(-2px);
  box-shadow: 0 8px 16px rgba(0,0,0,0.12);
  text-decoration: none;
  outline: none;
}

/* Efecto al hacer clic */
.back-button:active {
  transform: translateY(0);
  box-shadow: 0 4px 8px rgba(0,0,0,0.08);
}

    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div>
                     <a href="conocimientosaprende.html" class="back-button" aria-label="Volver atrás">Volver atrás</a>
                    <h1>Sistema de Clasificación Contable</h1>
                    <p class="description">Cuadro comparativo de conceptos contables con 800 ejemplos por categoría</p>
                </div>
                <div class="filter-group">
                    
                    <button id="downloadHtml" class="btn-success">Descargar HTML</button>
                </div>
            </div>
        </div>
    </header>
    
    <div class="container">
        <div class="controls">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Buscar concepto contable...">
            </div>
            <div class="filter-group">
                <select id="categoryFilter">
                    <option value="all">Todas las categorías</option>
                    <option value="activo">Activo</option>
                    <option value="pasivo">Pasivo</option>
                    <option value="patrimonio">Patrimonio Neto</option>
                    <option value="ingresos">Ingresos</option>
                    <option value="gastos">Gastos</option>
                </select>
                <select id="itemsPerPage">
                    <option value="10">10 por página</option>
                    <option value="25">25 por página</option>
                    <option value="50">50 por página</option>
                    <option value="100">100 por página</option>
                </select>
                <button id="deleteBtn">Eliminar</button>
            </div>
        </div>
        
        <div class="stats">
            <div class="stat-card">
                <div class="stat-value" id="totalCount">0</div>
                <div class="stat-label">Total de Conceptos</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="activoCount">0</div>
                <div class="stat-label">Activos</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="pasivoCount">0</div>
                <div class="stat-label">Pasivos</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="patrimonioCount">0</div>
                <div class="stat-label">Patrimonio Neto</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="ingresosCount">0</div>
                <div class="stat-label">Ingresos</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="gastosCount">0</div>
                <div class="stat-label">Gastos</div>
            </div>
        </div>
        
        <div class="comparative-table" id="tableContainer">
            <table id="accountingTable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Concepto</th>
                        <th>Categoría</th>
                        <th>Descripción</th>
                        <th>Ejemplo</th>
                        <th>Registro Contable</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Los datos se cargarán aquí con JavaScript -->
                </tbody>
            </table>
        </div>
        
        <div class="pagination" id="pagination">
            <!-- La paginación se generará con JavaScript -->
        </div>
    </div>
    
    <footer>
        <div class="container">
            <p>Sistema de Clasificación Contable &copy; 2023 - 800 ejemplos por categoría</p>
        </div>
    </footer>

    <script>
        // Datos de ejemplo para las categorías contables
        const accountingCategories = {
            activo: {
                name: "Activo",
                examples: [
                    "Caja y Bancos",
                    "Inversiones Financieras",
                    "Cuentas por Cobrar",
                    "Inventarios",
                    "Propiedades, Planta y Equipo",
                    "Activos Intangibles",
                    "Activos Diferidos",
                    "Terrenos",
                    "Edificios",
                    "Maquinaria y Equipo",
                    "Vehiculos",
                    "Mobiliario y Enseres",
                    "Equipos de Computo",
                    "Herramientas",
                    "Depositos en Garantia",
                    "Seguros Pagados por Adelantado",
                    "Inversiones en Subsidiarias",
                    "Inversiones en Asociadas",
                    "Bonos y Titulos",
                    "Fondos de Inversion"
                ],
                descriptions: [
                    "Recursos líquidos de la empresa",
                    "Inversiones a corto y largo plazo",
                    "Derechos de cobro por ventas o servicios",
                    "Bienes destinados a la venta",
                    "Bienes tangibles para operaciones",
                    "Recursos sin forma física pero con valor",
                    "Gastos pagados por anticipado",
                    "Terrenos propiedad de la empresa",
                    "Edificios y construcciones",
                    "Maquinaria para producción",
                    "Vehículos de transporte",
                    "Mobiliario de oficina",
                    "Equipos informáticos",
                    "Herramientas de trabajo",
                    "Depósitos como garantía",
                    "Primas de seguros prepagadas",
                    "Inversiones en empresas controladas",
                    "Inversiones en empresas influenciadas",
                    "Inversiones en instrumentos de deuda",
                    "Participación en fondos de inversión"
                ],
                accountingEntries: [
                    "Debe: Caja / Haber: Ventas",
                    "Debe: Inversiones / Haber: Bancos",
                    "Debe: Cuentas por Cobrar / Haber: Ventas",
                    "Debe: Inventarios / Haber: Proveedores",
                    "Debe: Propiedades / Haber: Bancos",
                    "Debe: Activos Intangibles / Haber: Bancos",
                    "Debe: Gastos Pagados por Anticipado / Haber: Bancos",
                    "Debe: Terrenos / Haber: Bancos",
                    "Debe: Edificios / Haber: Bancos",
                    "Debe: Maquinaria / Haber: Bancos",
                    "Debe: Vehiculos / Haber: Bancos",
                    "Debe: Mobiliario / Haber: Bancos",
                    "Debe: Equipos de Computo / Haber: Bancos",
                    "Debe: Herramientas / Haber: Bancos",
                    "Debe: Depositos en Garantia / Haber: Bancos",
                    "Debe: Seguros Pagados por Adelantado / Haber: Bancos",
                    "Debe: Inversiones en Subsidiarias / Haber: Bancos",
                    "Debe: Inversiones en Asociadas / Haber: Bancos",
                    "Debe: Bonos y Titulos / Haber: Bancos",
                    "Debe: Fondos de Inversion / Haber: Bancos"
                ]
            },
            pasivo: {
                name: "Pasivo",
                examples: [
                    "Cuentas por Pagar",
                    "Préstamos Bancarios",
                    "Obligaciones Financieras",
                    "Impuestos por Pagar",
                    "Provisiones",
                    "Pasivos Diferidos",
                    "Bonos por Pagar",
                    "Hipotecas por Pagar",
                    "Documentos por Pagar",
                    "Sueldos por Pagar",
                    "Intereses por Pagar",
                    "Dividendos por Pagar",
                    "Anticipos de Clientes",
                    "Obligaciones Laborales",
                    "Garantías por Contingencias",
                    "Arrendamientos Financieros",
                    "Prestaciones Sociales",
                    "Beneficios a Empleados",
                    "Obligaciones Fiscales",
                    "Deuda a Largo Plazo"
                ],
                descriptions: [
                    "Obligaciones con proveedores",
                    "Deudas con instituciones financieras",
                    "Compromisos de pago a terceros",
                    "Obligaciones tributarias pendientes",
                    "Estimaciones de obligaciones futuras",
                    "Ingresos recibidos por anticipado",
                    "Emisión de deuda a largo plazo",
                    "Préstamos con garantía hipotecaria",
                    "Pagarés y letras por pagar",
                    "Salarios pendientes de pago",
                    "Intereses acumulados por pagar",
                    "Dividendos declarados no pagados",
                    "Pagos recibidos por servicios futuros",
                    "Obligaciones con empleados",
                    "Garantías por posibles contingencias",
                    "Contratos de arrendamiento financiero",
                    "Prestaciones sociales acumuladas",
                    "Beneficios adicionales a empleados",
                    "Impuestos y contribuciones",
                    "Deuda con vencimiento mayor a un año"
                ],
                accountingEntries: [
                    "Debe: Compras / Haber: Cuentas por Pagar",
                    "Debe: Bancos / Haber: Préstamos por Pagar",
                    "Debe: Gastos / Haber: Obligaciones Financieras",
                    "Debe: Impuestos / Haber: Impuestos por Pagar",
                    "Debe: Gastos / Haber: Provisiones",
                    "Debe: Bancos / Haber: Ingresos Diferidos",
                    "Debe: Bancos / Haber: Bonos por Pagar",
                    "Debe: Bancos / Haber: Hipotecas por Pagar",
                    "Debe: Bancos / Haber: Documentos por Pagar",
                    "Debe: Gastos de Personal / Haber: Sueldos por Pagar",
                    "Debe: Gastos Financieros / Haber: Intereses por Pagar",
                    "Debe: Utilidades / Haber: Dividendos por Pagar",
                    "Debe: Bancos / Haber: Anticipos de Clientes",
                    "Debe: Gastos de Personal / Haber: Obligaciones Laborales",
                    "Debe: Gastos / Haber: Garantías por Contingencias",
                    "Debe: Activos / Haber: Arrendamientos Financieros",
                    "Debe: Gastos de Personal / Haber: Prestaciones Sociales",
                    "Debe: Gastos de Personal / Haber: Beneficios a Empleados",
                    "Debe: Gastos / Haber: Obligaciones Fiscales",
                    "Debe: Bancos / Haber: Deuda a Largo Plazo"
                ]
            },
            patrimonio: {
                name: "Patrimonio Neto",
                examples: [
                    "Capital Social",
                    "Reservas Legales",
                    "Utilidades Retenidas",
                    "Resultados del Ejercicio",
                    "Ajustes por Revalorización",
                    "Dividendos por Pagar",
                    "Superávit de Capital",
                    "Prima en Venta de Acciones",
                    "Donaciones Recibidas",
                    "Reserva por Revalorización",
                    "Reserva Voluntaria",
                    "Resultados Acumulados",
                    "Aportaciones para Futuras Ampliaciones",
                    "Excedentes de Revaluación",
                    "Fondo de Comercio",
                    "Ajustes por Conversión",
                    "Resultados de Ejercicios Anteriores",
                    "Reserva Estatutaria",
                    "Capital por Suscripción",
                    "Excedente por Reorganización"
                ],
                descriptions: [
                    "Aportaciones de los accionistas",
                    "Reservas obligatorias por ley",
                    "Ganancias acumuladas no distribuidas",
                    "Resultado neto del período",
                    "Ajustes por cambios de valor",
                    "Distribuciones aprobadas a accionistas",
                    "Excedente en emisión de acciones",
                    "Diferencia entre valor nominal y precio de venta",
                    "Contribuciones recibidas sin contraprestación",
                    "Reserva por aumento de valor de activos",
                    "Reservas constituidas voluntariamente",
                    "Resultados de períodos anteriores",
                    "Aportaciones para futuras ampliaciones de capital",
                    "Excedentes por revaluación de activos",
                    "Valor del prestigio y clientela",
                    "Ajustes por conversión de moneda extranjera",
                    "Resultados de ejercicios anteriores no asignados",
                    "Reserva establecida en estatutos sociales",
                    "Capital pendiente de desembolso",
                    "Excedente por procesos de reorganización"
                ],
                accountingEntries: [
                    "Debe: Bancos / Haber: Capital Social",
                    "Debe: Utilidades / Haber: Reserva Legal",
                    "Debe: Resultados / Haber: Utilidades Retenidas",
                    "Debe: Ingresos / Haber: Resultados del Ejercicio",
                    "Debe: Activos / Haber: Ajustes por Revalorización",
                    "Debe: Utilidades / Haber: Dividendos por Pagar",
                    "Debe: Bancos / Haber: Superávit de Capital",
                    "Debe: Bancos / Haber: Prima en Venta de Acciones",
                    "Debe: Bancos / Haber: Donaciones Recibidas",
                    "Debe: Activos / Haber: Reserva por Revalorización",
                    "Debe: Utilidades / Haber: Reserva Voluntaria",
                    "Debe: Resultados / Haber: Resultados Acumulados",
                    "Debe: Bancos / Haber: Aportaciones para Futuras Ampliaciones",
                    "Debe: Activos / Haber: Excedentes de Revaluación",
                    "Debe: Fondo de Comercio / Haber: Bancos",
                    "Debe: Activos / Haber: Ajustes por Conversión",
                    "Debe: Resultados / Haber: Resultados de Ejercicios Anteriores",
                    "Debe: Utilidades / Haber: Reserva Estatutaria",
                    "Debe: Bancos / Haber: Capital por Suscripción",
                    "Debe: Bancos / Haber: Excedente por Reorganización"
                ]
            },
            ingresos: {
                name: "Ingresos",
                examples: [
                    "Ventas de Productos",
                    "Servicios Prestados",
                    "Ingresos por Intereses",
                    "Ingresos por Arrendamientos",
                    "Comisiones Ganadas",
                    "Subvenciones Recibidas",
                    "Ingresos por Royalties",
                    "Ventas de Activos",
                    "Ingresos por Consultoría",
                    "Ingresos por Publicidad",
                    "Ingresos por Licencias",
                    "Ingresos por Franquicias",
                    "Ingresos por Mantenimiento",
                    "Ingresos por Suscripciones",
                    "Ingresos por Capacitación",
                    "Ingresos por Desarrollo",
                    "Ingresos por Asesoría",
                    "Ingresos por Investigación",
                    "Ingresos por Patentes",
                    "Ingresos por Derechos de Autor"
                ],
                descriptions: [
                    "Ingresos por venta de bienes",
                    "Ingresos por prestación de servicios",
                    "Rendimientos de inversiones financieras",
                    "Ingresos por alquiler de activos",
                    "Ingresos por intermediación",
                    "Ayudas o subsidios recibidos",
                    "Ingresos por uso de propiedad intelectual",
                    "Ingresos por venta de activos fijos",
                    "Ingresos por servicios de consultoría",
                    "Ingresos por espacios publicitarios",
                    "Ingresos por concesión de licencias",
                    "Ingresos por franquicias otorgadas",
                    "Ingresos por servicios de mantenimiento",
                    "Ingresos por suscripciones periódicas",
                    "Ingresos por servicios de capacitación",
                    "Ingresos por desarrollo de proyectos",
                    "Ingresos por servicios de asesoría",
                    "Ingresos por proyectos de investigación",
                    "Ingresos por cesión de patentes",
                    "Ingresos por derechos de autor"
                ],
                accountingEntries: [
                    "Debe: Caja / Haber: Ventas",
                    "Debe: Bancos / Haber: Servicios Prestados",
                    "Debe: Bancos / Haber: Ingresos por Intereses",
                    "Debe: Bancos / Haber: Ingresos por Arrendamiento",
                    "Debe: Bancos / Haber: Comisiones Ganadas",
                    "Debe: Bancos / Haber: Subvenciones Recibidas",
                    "Debe: Bancos / Haber: Ingresos por Royalties",
                    "Debe: Bancos / Haber: Ventas de Activos",
                    "Debe: Bancos / Haber: Ingresos por Consultoría",
                    "Debe: Bancos / Haber: Ingresos por Publicidad",
                    "Debe: Bancos / Haber: Ingresos por Licencias",
                    "Debe: Bancos / Haber: Ingresos por Franquicias",
                    "Debe: Bancos / Haber: Ingresos por Mantenimiento",
                    "Debe: Bancos / Haber: Ingresos por Suscripciones",
                    "Debe: Bancos / Haber: Ingresos por Capacitación",
                    "Debe: Bancos / Haber: Ingresos por Desarrollo",
                    "Debe: Bancos / Haber: Ingresos por Asesoría",
                    "Debe: Bancos / Haber: Ingresos por Investigación",
                    "Debe: Bancos / Haber: Ingresos por Patentes",
                    "Debe: Bancos / Haber: Ingresos por Derechos de Autor"
                ]
            },
            gastos: {
                name: "Gastos",
                examples: [
                    "Costos de Ventas",
                    "Gastos de Personal",
                    "Gastos Administrativos",
                    "Gastos de Publicidad",
                    "Gastos Financieros",
                    "Depreciación y Amortización",
                    "Impuestos y Tasas",
                    "Gastos de Mantenimiento",
                    "Gastos de Alquiler",
                    "Gastos de Servicios",
                    "Gastos de Viaje",
                    "Gastos de Representación",
                    "Gastos de Capacitación",
                    "Gastos de Investigación",
                    "Gastos de Desarrollo",
                    "Gastos de Auditoría",
                    "Gastos Legales",
                    "Gastos de Seguros",
                    "Gastos de Comunicación",
                    "Gastos de Transporte"
                ],
                descriptions: [
                    "Costos directos de productos vendidos",
                    "Remuneraciones y beneficios al personal",
                    "Gastos de administración y dirección",
                    "Gastos de marketing y promoción",
                    "Intereses y comisiones financieras",
                    "Pérdida de valor de activos",
                    "Tributos y contribuciones obligatorias",
                    "Gastos de mantenimiento de activos",
                    "Gastos por alquiler de espacios",
                    "Gastos por servicios básicos",
                    "Gastos por viajes de negocios",
                    "Gastos de representación y relaciones públicas",
                    "Gastos por capacitación del personal",
                    "Gastos por investigación y desarrollo",
                    "Gastos por desarrollo de productos",
                    "Gastos por servicios de auditoría",
                    "Gastos por servicios legales",
                    "Gastos por pólizas de seguro",
                    "Gastos por servicios de comunicación",
                    "Gastos por transporte y logística"
                ],
                accountingEntries: [
                    "Debe: Costo de Ventas / Haber: Inventarios",
                    "Debe: Gastos de Personal / Haber: Bancos",
                    "Debe: Gastos Administrativos / Haber: Bancos",
                    "Debe: Gastos de Publicidad / Haber: Bancos",
                    "Debe: Gastos Financieros / Haber: Bancos",
                    "Debe: Depreciación / Haber: Activos Fijos",
                    "Debe: Impuestos / Haber: Bancos",
                    "Debe: Gastos de Mantenimiento / Haber: Bancos",
                    "Debe: Gastos de Alquiler / Haber: Bancos",
                    "Debe: Gastos de Servicios / Haber: Bancos",
                    "Debe: Gastos de Viaje / Haber: Bancos",
                    "Debe: Gastos de Representación / Haber: Bancos",
                    "Debe: Gastos de Capacitación / Haber: Bancos",
                    "Debe: Gastos de Investigación / Haber: Bancos",
                    "Debe: Gastos de Desarrollo / Haber: Bancos",
                    "Debe: Gastos de Auditoría / Haber: Bancos",
                    "Debe: Gastos Legales / Haber: Bancos",
                    "Debe: Gastos de Seguros / Haber: Bancos",
                    "Debe: Gastos de Comunicación / Haber: Bancos",
                    "Debe: Gastos de Transporte / Haber: Bancos"
                ]
            }
        };

        // Variables globales
        let currentData = [];
        let currentPage = 1;
        let itemsPerPage = 10;
        let currentFilter = "all";
        let currentSearch = "";

        // Elementos DOM
        const tableBody = document.getElementById('tableBody');
        const pagination = document.getElementById('pagination');
        const searchInput = document.getElementById('searchInput');
        const categoryFilter = document.getElementById('categoryFilter');
        const itemsPerPageSelect = document.getElementById('itemsPerPage');
        const deleteBtn = document.getElementById('deleteBtn');
        const downloadPdfBtn = document.getElementById('downloadPdf');
        const downloadHtmlBtn = document.getElementById('downloadHtml');
        const totalCountEl = document.getElementById('totalCount');
        const activoCountEl = document.getElementById('activoCount');
        const pasivoCountEl = document.getElementById('pasivoCount');
        const patrimonioCountEl = document.getElementById('patrimonioCount');
        const ingresosCountEl = document.getElementById('ingresosCount');
        const gastosCountEl = document.getElementById('gastosCount');

        // Inicialización
        document.addEventListener('DOMContentLoaded', function() {
            generateExamples(800); // Generar 800 ejemplos por categoría
            setupEventListeners();
        });

        // Configurar event listeners
        function setupEventListeners() {
            searchInput.addEventListener('input', function() {
                currentSearch = this.value.toLowerCase();
                currentPage = 1;
                renderTable();
            });

            categoryFilter.addEventListener('change', function() {
                currentFilter = this.value;
                currentPage = 1;
                renderTable();
            });

            itemsPerPageSelect.addEventListener('change', function() {
                itemsPerPage = parseInt(this.value);
                currentPage = 1;
                renderTable();
            });

            deleteBtn.addEventListener('click', function() {
                const idsToDelete = prompt("Ingrese los IDs a eliminar (separados por coma):");
                if (idsToDelete) {
                    deleteItems(idsToDelete);
                }
            });

            downloadPdfBtn.addEventListener('click', downloadPdf);
            downloadHtmlBtn.addEventListener('click', downloadHtml);
        }

        // Generar ejemplos de datos (800 por categoría)
        function generateExamples(countPerCategory) {
            currentData = [];
            
            // Generar datos para cada categoría
            Object.keys(accountingCategories).forEach(category => {
                const categoryData = accountingCategories[category];
                
                for (let i = 0; i < countPerCategory; i++) {
                    const exampleIndex = i % categoryData.examples.length;
                    const id = currentData.length + 1;
                    
                    currentData.push({
                        id: id,
                        concepto: categoryData.examples[exampleIndex] + " " + (Math.floor(i / categoryData.examples.length) + 1),
                        categoria: category,
                        descripcion: categoryData.descriptions[exampleIndex],
                        ejemplo: `Ejemplo ${id}: ${categoryData.examples[exampleIndex]}`,
                        registro: categoryData.accountingEntries[exampleIndex]
                    });
                }
            });
            
            // Actualizar estadísticas
            updateStats();
            
            // Renderizar la tabla
            renderTable();
        }

        // Actualizar estadísticas
        function updateStats() {
            totalCountEl.textContent = currentData.length.toLocaleString();
            
            const counts = {
                activo: 0,
                pasivo: 0,
                patrimonio: 0,
                ingresos: 0,
                gastos: 0
            };
            
            currentData.forEach(item => {
                if (counts.hasOwnProperty(item.categoria)) {
                    counts[item.categoria]++;
                }
            });
            
            activoCountEl.textContent = counts.activo.toLocaleString();
            pasivoCountEl.textContent = counts.pasivo.toLocaleString();
            patrimonioCountEl.textContent = counts.patrimonio.toLocaleString();
            ingresosCountEl.textContent = counts.ingresos.toLocaleString();
            gastosCountEl.textContent = counts.gastos.toLocaleString();
        }

        // Renderizar la tabla
        function renderTable() {
            // Filtrar datos
            let filteredData = currentData;
            
            if (currentFilter !== "all") {
                filteredData = filteredData.filter(item => item.categoria === currentFilter);
            }
            
            if (currentSearch) {
                filteredData = filteredData.filter(item => 
                    item.concepto.toLowerCase().includes(currentSearch) ||
                    item.descripcion.toLowerCase().includes(currentSearch) ||
                    item.ejemplo.toLowerCase().includes(currentSearch) ||
                    item.registro.toLowerCase().includes(currentSearch)
                );
            }
            
            // Calcular paginación
            const totalPages = Math.ceil(filteredData.length / itemsPerPage);
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = Math.min(startIndex + itemsPerPage, filteredData.length);
            const pageData = filteredData.slice(startIndex, endIndex);
            
            // Limpiar tabla
            tableBody.innerHTML = "";
            
            // Llenar tabla con datos
            pageData.forEach(item => {
                const row = document.createElement('tr');
                row.className = `category-${item.categoria}`;
                
                row.innerHTML = `
                    <td>${item.id}</td>
                    <td>${item.concepto}</td>
                    <td>${accountingCategories[item.categoria].name}</td>
                    <td>${item.descripcion}</td>
                    <td>${item.ejemplo}</td>
                    <td>${item.registro}</td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Actualizar paginación
            renderPagination(totalPages);
        }

        // Renderizar paginación
        function renderPagination(totalPages) {
            pagination.innerHTML = "";
            
            // Botón anterior
            const prevButton = document.createElement('button');
            prevButton.textContent = "Anterior";
            prevButton.disabled = currentPage === 1;
            prevButton.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    renderTable();
                }
            });
            pagination.appendChild(prevButton);
            
            // Números de página
            const maxVisiblePages = 5;
            let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
            let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
            
            if (endPage - startPage + 1 < maxVisiblePages) {
                startPage = Math.max(1, endPage - maxVisiblePages + 1);
            }
            
            for (let i = startPage; i <= endPage; i++) {
                const pageButton = document.createElement('button');
                pageButton.textContent = i;
                pageButton.className = i === currentPage ? 'active' : '';
                pageButton.addEventListener('click', () => {
                    currentPage = i;
                    renderTable();
                });
                pagination.appendChild(pageButton);
            }
            
            // Botón siguiente
            const nextButton = document.createElement('button');
            nextButton.textContent = "Siguiente";
            nextButton.disabled = currentPage === totalPages;
            nextButton.addEventListener('click', () => {
                if (currentPage < totalPages) {
                    currentPage++;
                    renderTable();
                }
            });
            pagination.appendChild(nextButton);
        }

        // Eliminar elementos por ID
        function deleteItems(idsString) {
            const ids = idsString.split(',').map(id => parseInt(id.trim())).filter(id => !isNaN(id));
            
            if (ids.length === 0) {
                alert("No se proporcionaron IDs válidos");
                return;
            }
            
            if (confirm(`¿Está seguro de que desea eliminar ${ids.length} elemento(s)?`)) {
                currentData = currentData.filter(item => !ids.includes(item.id));
                updateStats();
                renderTable();
                alert(`${ids.length} elemento(s) eliminado(s) correctamente`);
            }
        }

        // Descargar como PDF
        function downloadPdf() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF('l', 'mm', 'a4');
            
            // Título
            doc.setFontSize(16);
            doc.text('Sistema de Clasificación Contable', 20, 20);
            doc.setFontSize(12);
            doc.text('Reporte generado el: ' + new Date().toLocaleDateString(), 20, 30);
            
            // Estadísticas
            let yPosition = 45;
            doc.setFontSize(10);
            doc.text(`Total de Conceptos: ${currentData.length}`, 20, yPosition);
            yPosition += 7;
            doc.text(`Activos: ${document.getElementById('activoCount').textContent}`, 20, yPosition);
            yPosition += 7;
            doc.text(`Pasivos: ${document.getElementById('pasivoCount').textContent}`, 20, yPosition);
            yPosition += 7;
            doc.text(`Patrimonio Neto: ${document.getElementById('patrimonioCount').textContent}`, 20, yPosition);
            yPosition += 7;
            doc.text(`Ingresos: ${document.getElementById('ingresosCount').textContent}`, 20, yPosition);
            yPosition += 7;
            doc.text(`Gastos: ${document.getElementById('gastosCount').textContent}`, 20, yPosition);
            
            // Tabla
            yPosition += 15;
            const headers = [['ID', 'Concepto', 'Categoría', 'Descripción', 'Ejemplo', 'Registro Contable']];
            const data = currentData.map(item => [
                item.id.toString(),
                item.concepto,
                accountingCategories[item.categoria].name,
                item.descripcion,
                item.ejemplo,
                item.registro
            ]);
            
            doc.autoTable({
                startY: yPosition,
                head: headers,
                body: data,
                theme: 'grid',
                styles: { fontSize: 7, cellPadding: 2 },
                headStyles: { fillColor: [44, 62, 80] },
                columnStyles: {
                    0: { cellWidth: 10 },
                    1: { cellWidth: 30 },
                    2: { cellWidth: 25 },
                    3: { cellWidth: 40 },
                    4: { cellWidth: 40 },
                    5: { cellWidth: 40 }
                },
                margin: { left: 20, right: 20 }
            });
            
            // Guardar PDF
            doc.save('conceptos_contables.pdf');
        }

        // Descargar como HTML
        function downloadHtml() {
            const htmlContent = `
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Conceptos Contables - Exportación</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { color: #2c3e50; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #2c3e50; color: white; }
        tr:nth-child(even) { background-color: #f2f2f2; }
        .stats { margin-bottom: 20px; }
        .stat-item { display: inline-block; margin-right: 20px; }
    </style>
</head>
<body>
    <h1>Sistema de Clasificación Contable</h1>
    <p>Reporte generado el: ${new Date().toLocaleDateString()}</p>
    
    <div class="stats">
        <div class="stat-item"><strong>Total de Conceptos:</strong> ${currentData.length}</div>
        <div class="stat-item"><strong>Activos:</strong> ${document.getElementById('activoCount').textContent}</div>
        <div class="stat-item"><strong>Pasivos:</strong> ${document.getElementById('pasivoCount').textContent}</div>
        <div class="stat-item"><strong>Patrimonio Neto:</strong> ${document.getElementById('patrimonioCount').textContent}</div>
        <div class="stat-item"><strong>Ingresos:</strong> ${document.getElementById('ingresosCount').textContent}</div>
        <div class="stat-item"><strong>Gastos:</strong> ${document.getElementById('gastosCount').textContent}</div>
    </div>
    
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Concepto</th>
                <th>Categoría</th>
                <th>Descripción</th>
                <th>Ejemplo</th>
                <th>Registro Contable</th>
            </tr>
        </thead>
        <tbody>
            ${currentData.map(item => `
                <tr>
                    <td>${item.id}</td>
                    <td>${item.concepto}</td>
                    <td>${accountingCategories[item.categoria].name}</td>
                    <td>${item.descripcion}</td>
                    <td>${item.ejemplo}</td>
                    <td>${item.registro}</td>
                </tr>
            `).join('')}
        </tbody>
    </table>
</body>
</html>`;
            
            const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.setAttribute('href', url);
            link.setAttribute('download', 'conceptos_contables.html');
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html>