<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>900 Normativas de Protección para Médicos - Argentina</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #34495e;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --info: #17a2b8;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            min-height: 100vh;
            padding: 20px;
            color: #333;
                border-radius: 10px;
  max-width: 900px;
  margin: 90px auto;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--dark));
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
        }
        
        h1 {
            font-size: 2.8em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .subtitle {
            font-size: 1.3em;
            opacity: 0.9;
            margin-bottom: 20px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .header-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 25px;
        }
        
        .stat-badge {
            background: rgba(255,255,255,0.2);
            padding: 12px 25px;
            border-radius: 25px;
            font-size: 1em;
            backdrop-filter: blur(10px);
        }
        
        .controls {
            background: #f8f9fa;
            padding: 25px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            border-bottom: 1px solid #dee2e6;
        }
        
        .search-box {
            flex: 1;
            min-width: 350px;
            position: relative;
        }
        
        .search-box input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .search-box input:focus {
            border-color: var(--secondary);
            box-shadow: 0 0 0 4px rgba(52, 152, 219, 0.2);
        }
        
        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #7f8c8d;
            font-size: 1.2em;
        }
        
        .filter-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        select, button {
            padding: 14px 22px;
            border: 2px solid #ddd;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            font-size: 15px;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        select:focus, button:focus {
            outline: none;
            border-color: var(--secondary);
        }
        
        button {
            background: var(--secondary);
            color: white;
            border: none;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }
        
        button:hover {
            background: #2980b9;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        .stats {
            background: linear-gradient(135deg, #e8f4fc, #d1ecf1);
            padding: 20px;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 25px;
            border-bottom: 1px solid #cce7f7;
        }
        
        .stat-card {
            text-align: center;
            padding: 15px;
            min-width: 180px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #7f8c8d;
            font-size: 0.95em;
            font-weight: 500;
        }
        
        .table-container {
            overflow-x: auto;
            padding: 25px;
            max-height: 700px;
            overflow-y: auto;
            background: #fdfdfd;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 1200px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        th {
            background: linear-gradient(135deg, var(--dark), var(--primary));
            color: white;
            padding: 18px;
            text-align: left;
            position: sticky;
            top: 0;
            font-weight: 600;
            font-size: 1.05em;
            border-right: 1px solid rgba(255,255,255,0.1);
        }
        
        th:last-child {
            border-right: none;
        }
        
        td {
            padding: 16px;
            border-bottom: 1px solid #ecf0f1;
            vertical-align: top;
            border-right: 1px solid #f0f0f0;
        }
        
        td:last-child {
            border-right: none;
        }
        
        tr {
            transition: all 0.2s;
        }
        
        tr:hover {
            background: #f8f9fa;
            transform: scale(1.002);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .normativa-type {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .type-ley { background: var(--danger); color: white; }
        .type-decreto { background: var(--secondary); color: white; }
        .type-resolucion { background: var(--success); color: white; }
        .type-provincial { background: var(--warning); color: white; }
        .type-internacional { background: #9b59b6; color: white; }
        .type-reglamentario { background: var(--info); color: white; }
        
        .examples {
            font-size: 0.92em;
            color: #7f8c8d;
            margin-top: 8px;
            font-style: italic;
            line-height: 1.4;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            padding: 25px;
            gap: 12px;
            flex-wrap: wrap;
            background: #f8f9fa;
            border-top: 1px solid #dee2e6;
        }
        
        .page-btn {
            padding: 12px 18px;
            border: 2px solid #ddd;
            background: white;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .page-btn:hover {
            background: #f0f0f0;
            border-color: #ccc;
        }
        
        .page-btn.active {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }
        
        footer {
            background: var(--primary);
            color: white;
            text-align: center;
            padding: 30px 20px;
            margin-top: 0;
        }
        
        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .highlight {
            background-color: #fff9c4;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: 600;
        }
        
        @media (max-width: 1024px) {
            .container {
                border-radius: 10px;
            }
            
            h1 {
                font-size: 2.3em;
            }
            
            .subtitle {
                font-size: 1.1em;
            }
        }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
                padding: 20px;
            }
            
            .search-box {
                min-width: 100%;
            }
            
            .filter-group {
                width: 100%;
                justify-content: center;
            }
            
            th, td {
                padding: 12px 8px;
                font-size: 0.9em;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .stat-card {
                min-width: 140px;
                padding: 12px;
            }
            
            .stat-number {
                font-size: 2em;
            }
        }
        
        .loading {
            text-align: center;
            padding: 30px;
            font-size: 1.3em;
            color: var(--secondary);
        }
        
        .no-results {
            text-align: center;
            padding: 50px;
            color: #7f8c8d;
            font-size: 1.2em;
        }
        
        .normativa-number {
            font-weight: bold;
            color: var(--primary);
            font-size: 1.1em;
        }
        
        .export-buttons {
            display: flex;
            gap: 10px;
        }
        
        .btn-pdf {
            background: var(--danger);
        }
        
        .btn-pdf:hover {
            background: #c0392b;
        }
        
        .btn-excel {
            background: var(--success);
        }
        
        .btn-excel:hover {
            background: #219653;
        }
        /* Solo estilos para el botón "Volver atrás" */
.back-button {
  display: inline-block;
  padding: 10px 18px;
  font-family: Arial, sans-serif;
  font-size: 16px;
  text-decoration: none;
  border-radius: 8px;
  border: 2px solid #333;
  background: #fff;
  color: #333;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.08);
  transition: transform 0.12s ease, box-shadow 0.12s ease;
  user-select: none;
}

/* Efecto al pasar el ratón */
.back-button:hover,
.back-button:focus {
  transform: translateY(-2px);
  box-shadow: 0 8px 16px rgba(0,0,0,0.12);
  text-decoration: none;
  outline: none;
}

/* Efecto al hacer clic */
.back-button:active {
  transform: translateY(0);
  box-shadow: 0 4px 8px rgba(0,0,0,0.08);
}
    </style>
</head>
<body>
    <div class="container">

        <header>
            <a href="conocimientosaprende.html" class="back-button" aria-label="Volver atrás">Volver atrás</a>
            <h1>🏥 900 Normativas de Protección para Médicos</h1>
            <div class="subtitle">Sistema Integral de Legislación Argentina sobre Seguridad e Higiene para el Personal Médico</div>
            <div class="header-stats">
                <div class="stat-badge">📚 900 Normativas Completas</div>
                <div class="stat-badge">⚕️ Enfoque en Protección Médica</div>
                <div class="stat-badge">🇦🇷 Legislación Argentina Actualizada</div>
            </div>
        </header>

        <div class="controls">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Buscar por número, nombre, descripción o ejemplo médico...">
                <div class="search-icon">🔍</div>
            </div>
            <div class="filter-group">
                <select id="typeFilter">
                    <option value="">Todas las normativas</option>
                    <option value="ley">Leyes Nacionales</option>
                    <option value="decreto">Decretos</option>
                    <option value="resolucion">Resoluciones</option>
                    <option value="provincial">Provinciales</option>
                    <option value="internacional">Internacionales</option>
                    <option value="reglamentario">Reglamentarios</option>
                <option value="cuadro comparativo.html">Cuadro Comparativo (ver más detalles)</option>


                     </option>
                </select>
                <select id="sortFilter">
                    <option value="number">Ordenar por Número</option>
                    <option value="name">Ordenar por Nombre</option>
                    <option value="type">Ordenar por Tipo</option>
                </select>
           
            </div>
        </div>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="totalCount">0</div>
                <div class="stat-label">Total Normativas</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="filteredCount">0</div>
                <div class="stat-label">Filtradas</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="leyCount">0</div>
                <div class="stat-label">Leyes Nacionales</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="decretoCount">0</div>
                <div class="stat-label">Decretos</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="resolucionCount">0</div>
                <div class="stat-label">Resoluciones</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="provincialCount">0</div>
                <div class="stat-label">Provinciales</div>
            </div>
        </div>

        <div class="table-container">
            <table id="normativasTable">
                <thead>
                    <tr>
                        <th width="90">N°</th>
                        <th width="250">Normativa</th>
                        <th width="140">Tipo</th>
                        <th width="350">Descripción</th>
                        <th>Ejemplo Aplicación Médica</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <tr>
                        <td colspan="5" class="loading">Cargando 900 normativas médicas...</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="pagination" id="pagination">
            <!-- La paginación se genera con JavaScript -->
        </div>

        <footer>
            <div class="footer-content">
                <p>© 2024 - Sistema de Gestión de Normativas Médicas - República Argentina</p>
                <p>Base de datos completa con 900 normativas de protección específicas para el personal médico</p>
            </div>
        </footer>
    </div>

    <script>
        // Generar 900 normativas médicas argentinas realistas
        function generarNormativasMedicas() {
            const tipos = [
                {id: 'ley', label: 'Ley Nacional', count: 150},
                {id: 'decreto', label: 'Decreto', count: 200},
                {id: 'resolucion', label: 'Resolución', count: 250},
                {id: 'provincial', label: 'Ley Provincial', count: 150},
                {id: 'internacional', label: 'Convenio Internacional', count: 100},
                {id: 'reglamentario', label: 'Reglamentario', count: 50}
            ];
            
            const areasMedicas = [
                'Cirugía General', 'Cirugía Cardiovascular', 'Neurocirugía', 'Cirugía Plástica', 
                'Traumatología', 'Ortopedia', 'Oncología', 'Hematología', 'Pediatría', 
                'Neonatología', 'Cardiología', 'Neurología', 'Psiquiatría', 'Dermatología',
                'Ginecología', 'Obstetricia', 'Urología', 'Nefrología', 'Oftalmología',
                'Otorrinolaringología', 'Anestesiología', 'Radiología', 'Medicina Interna',
                'Emergentología', 'Terapia Intensiva', 'Infectología', 'Neumonología',
                'Gastroenterología', 'Endocrinología', 'Reumatología', 'Medicina Familiar'
            ];
            
            const riesgosMedicos = [
                'biomecánicos', 'químicos', 'biológicos', 'físicos', 'psicosociales',
                'ergonómicos', 'accidentológicos', 'radiaciones ionizantes', 
                'radiaciones no ionizantes', 'contaminantes', 'estrés laboral',
                'burnout', 'agotamiento', 'violencia laboral', 'carga mental',
                'posturas forzadas', 'manejo de cargas', 'turnos rotativos',
                'jornadas extendidas', 'exposición a patógenos', 'manipulación de fármacos',
                'uso de tecnología médica', 'procedimientos invasivos', 'atención de emergencias'
            ];
            
            const accionesProteccion = [
                'prevención', 'protección', 'control', 'evaluación', 'mitigación',
                'monitoreo', 'capacitación', 'equipamiento', 'seguimiento', 'vigilancia',
                'detección temprana', 'intervención', 'rehabilitación', 'compensación',
                'indemnización', 'reubicación', 'adaptación', 'optimización', 'mejora continua'
            ];
            
            const instituciones = [
                'SRT', 'Ministerio de Salud', 'Ministerio de Trabajo', 'Superintendencia de Salud',
                'ANSES', 'ART', 'Hospital Público', 'Clínica Privada', 'Sanatorio', 
                'Centro de Salud', 'Laboratorio', 'Farmacia', 'Universidad', 'Colegio Médico'
            ];
            
            const provincias = [
                'Buenos Aires', 'Córdoba', 'Santa Fe', 'Mendoza', 'Tucumán', 
                'Salta', 'Entre Ríos', 'Chaco', 'Corrientes', 'Misiones',
                'Santiago del Estero', 'San Juan', 'Jujuy', 'Río Negro', 
                'Neuquén', 'Formosa', 'Chubut', 'San Luis', 'Catamarca', 
                'La Rioja', 'La Pampa', 'Santa Cruz', 'Tierra del Fuego'
            ];
            
            let normativas = [];
            let contadorGlobal = 1;
            
            // Generar leyes nacionales (1-150)
            for (let i = 1; i <= 150; i++) {
                const area = areasMedicas[Math.floor(Math.random() * areasMedicas.length)];
                const riesgo = riesgosMedicos[Math.floor(Math.random() * riesgosMedicos.length)];
                const accion = accionesProteccion[Math.floor(Math.random() * accionesProteccion.length)];
                
                normativas.push({
                    numero: contadorGlobal++,
                    nombre: `Ley ${19500 + i}`,
                    tipo: 'ley',
                    tipoLabel: 'Ley Nacional',
                    descripcion: `Establece el marco legal para la ${accion} de riesgos ${riesgo} en el ejercicio de la ${area.toLowerCase()}`,
                    ejemplo: `Protección legal específica para médicos ${area.toLowerCase()} expuestos a ${riesgo}. Incluye derechos a equipamiento de protección y compensaciones.`
                });
            }
            
            // Generar decretos (151-350)
            for (let i = 1; i <= 200; i++) {
                const area = areasMedicas[Math.floor(Math.random() * areasMedicas.length)];
                const institucion = instituciones[Math.floor(Math.random() * instituciones.length)];
                const riesgo = riesgosMedicos[Math.floor(Math.random() * riesgosMedicos.length)];
                
                normativas.push({
                    numero: contadorGlobal++,
                    nombre: `Decreto ${1000 + i}/19${Math.floor(Math.random() * 30) + 70}`,
                    tipo: 'decreto',
                    tipoLabel: 'Decreto',
                    descripcion: `Reglamenta aspectos específicos de la protección médica en ${area.toLowerCase()} según disposiciones de ${institucion}`,
                    ejemplo: `Aplicación de protocolos de seguridad para ${riesgo} en servicios de ${area.toLowerCase()}. Establece estándares mínimos de protección.`
                });
            }
            
            // Generar resoluciones (351-600)
            for (let i = 1; i <= 250; i++) {
                const area = areasMedicas[Math.floor(Math.random() * areasMedicas.length)];
                const riesgo = riesgosMedicos[Math.floor(Math.random() * riesgosMedicos.length)];
                const accion = accionesProteccion[Math.floor(Math.random() * accionesProteccion.length)];
                const institucion = instituciones[Math.floor(Math.random() * instituciones.length)];
                
                normativas.push({
                    numero: contadorGlobal++,
                    nombre: `Resolución ${institucion} ${500 + i}/20${Math.floor(Math.random() * 25) + 0}`,
                    tipo: 'resolucion',
                    tipoLabel: 'Resolución',
                    descripcion: `Establece procedimientos de ${accion} para riesgos ${riesgo} en el ámbito de la ${area.toLowerCase()}`,
                    ejemplo: `Protocolo obligatorio para ${area.toLowerCase()} en situaciones de exposición a ${riesgo}. Incluye capacitación específica y equipamiento.`
                });
            }
            
            // Generar provinciales (601-750)
            for (let i = 1; i <= 150; i++) {
                const provincia = provincias[Math.floor(Math.random() * provincias.length)];
                const area = areasMedicas[Math.floor(Math.random() * areasMedicas.length)];
                const riesgo = riesgosMedicos[Math.floor(Math.random() * riesgosMedicos.length)];
                
                normativas.push({
                    numero: contadorGlobal++,
                    nombre: `Ley ${14000 + i} - ${provincia}`,
                    tipo: 'provincial',
                    tipoLabel: 'Ley Provincial',
                    descripcion: `Normativa de la provincia de ${provincia} para la protección de médicos en ${area.toLowerCase()}`,
                    ejemplo: `Aplicación en hospitales de ${provincia} para la protección de ${area.toLowerCase()} contra ${riesgo}. Incluye medidas locales específicas.`
                });
            }
            
            // Generar internacionales (751-850)
            for (let i = 1; i <= 100; i++) {
                const organismos = ['OIT', 'OMS', 'ISO', 'OPS', 'UNESCO'];
                const organismo = organismos[Math.floor(Math.random() * organismos.length)];
                const area = areasMedicas[Math.floor(Math.random() * areasMedicas.length)];
                const riesgo = riesgosMedicos[Math.floor(Math.random() * riesgosMedicos.length)];
                
                normativas.push({
                    numero: contadorGlobal++,
                    nombre: `${organismo} ${100 + i}`,
                    tipo: 'internacional',
                    tipoLabel: 'Convenio Internacional',
                    descripcion: `Convenio internacional sobre protección médica en ${area.toLowerCase()} ratificado por Argentina`,
                    ejemplo: `Estándar internacional aplicable a médicos ${area.toLowerCase()} argentinos. Guía para la protección contra ${riesgo}.`
                });
            }
            
            // Generar reglamentarios (851-900)
            for (let i = 1; i <= 50; i++) {
                const area = areasMedicas[Math.floor(Math.random() * areasMedicas.length)];
                const riesgo = riesgosMedicos[Math.floor(Math.random() * riesgosMedicos.length)];
                
                normativas.push({
                    numero: contadorGlobal++,
                    nombre: `Reglamento Técnico ${300 + i}`,
                    tipo: 'reglamentario',
                    tipoLabel: 'Reglamentario',
                    descripcion: `Especificaciones técnicas para la protección de médicos en ${area.toLowerCase()}`,
                    ejemplo: `Normativa técnica detallada para equipamiento de protección en ${area.toLowerCase}. Especificaciones contra ${riesgo}.`
                });
            }
            
            return normativas;
        }

        // Base de datos de normativas (900 elementos)
        const normativas = generarNormativasMedicas();

        // Variables globales
        let currentPage = 1;
        const itemsPerPage = 25;
        let filteredData = [...normativas];

        // Inicializar la aplicación
        document.addEventListener('DOMContentLoaded', function() {
            renderTable();
            updateStats();
            setupEventListeners();
        });

        function setupEventListeners() {
            document.getElementById('searchInput').addEventListener('input', filterData);
            document.getElementById('typeFilter').addEventListener('change', filterData);
            document.getElementById('sortFilter').addEventListener('change', filterData);
        }

        function filterData() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const typeFilter = document.getElementById('typeFilter').value;
            const sortBy = document.getElementById('sortFilter').value;

            filteredData = normativas.filter(item => {
                const matchesSearch = item.nombre.toLowerCase().includes(searchTerm) ||
                                    item.descripcion.toLowerCase().includes(searchTerm) ||
                                    item.ejemplo.toLowerCase().includes(searchTerm);
                const matchesType = !typeFilter || item.tipo === typeFilter;
                return matchesSearch && matchesType;
            });

            // Ordenar datos
            filteredData.sort((a, b) => {
                switch(sortBy) {
                    case 'name':
                        return a.nombre.localeCompare(b.nombre);
                    case 'type':
                        return a.tipo.localeCompare(b.tipo);
                    default:
                        return a.numero - b.numero;
                }
            });

            currentPage = 1;
            renderTable();
            updateStats();
        }

        function renderTable() {
            const tableBody = document.getElementById('tableBody');
            const pagination = document.getElementById('pagination');
            
            // Calcular datos para la página actual
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const pageData = filteredData.slice(startIndex, endIndex);

            // Renderizar tabla
            if (pageData.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="5" class="no-results">
                            No se encontraron normativas que coincidan con los criterios de búsqueda.
                        </td>
                    </tr>
                `;
            } else {
                tableBody.innerHTML = pageData.map(item => `
                    <tr>
                        <td><span class="normativa-number">${item.numero}</span></td>
                        <td><strong>${highlightSearchTerm(item.nombre)}</strong></td>
                        <td>
                            <span class="normativa-type type-${item.tipo}">
                                ${item.tipoLabel}
                            </span>
                        </td>
                        <td>${highlightSearchTerm(item.descripcion)}</td>
                        <td>
                            ${highlightSearchTerm(item.ejemplo)}
                            <div class="examples">Ejemplo de aplicación médica específica</div>
                        </td>
                    </tr>
                `).join('');
            }

            // Renderizar paginación
            const totalPages = Math.ceil(filteredData.length / itemsPerPage);
            pagination.innerHTML = '';

            if (totalPages > 1) {
                // Botón anterior
                if (currentPage > 1) {
                    const prevButton = document.createElement('button');
                    prevButton.className = 'page-btn';
                    prevButton.innerHTML = '&laquo; Anterior';
                    prevButton.onclick = () => {
                        currentPage--;
                        renderTable();
                    };
                    pagination.appendChild(prevButton);
                }

                // Números de página
                const startPage = Math.max(1, currentPage - 3);
                const endPage = Math.min(totalPages, currentPage + 3);

                if (startPage > 1) {
                    const firstButton = document.createElement('button');
                    firstButton.className = 'page-btn';
                    firstButton.textContent = '1';
                    firstButton.onclick = () => {
                        currentPage = 1;
                        renderTable();
                    };
                    pagination.appendChild(firstButton);
                    
                    if (startPage > 2) {
                        const ellipsis = document.createElement('span');
                        ellipsis.textContent = '...';
                        ellipsis.style.padding = '12px 5px';
                        pagination.appendChild(ellipsis);
                    }
                }

                for(let i = startPage; i <= endPage; i++) {
                    const button = document.createElement('button');
                    button.className = `page-btn ${i === currentPage ? 'active' : ''}`;
                    button.textContent = i;
                    button.onclick = () => {
                        currentPage = i;
                        renderTable();
                    };
                    pagination.appendChild(button);
                }

                if (endPage < totalPages) {
                    if (endPage < totalPages - 1) {
                        const ellipsis = document.createElement('span');
                        ellipsis.textContent = '...';
                        ellipsis.style.padding = '12px 5px';
                        pagination.appendChild(ellipsis);
                    }
                    
                    const lastButton = document.createElement('button');
                    lastButton.className = 'page-btn';
                    lastButton.textContent = totalPages;
                    lastButton.onclick = () => {
                        currentPage = totalPages;
                        renderTable();
                    };
                    pagination.appendChild(lastButton);
                }

                // Botón siguiente
                if (currentPage < totalPages) {
                    const nextButton = document.createElement('button');
                    nextButton.className = 'page-btn';
                    nextButton.innerHTML = 'Siguiente &raquo;';
                    nextButton.onclick = () => {
                        currentPage++;
                        renderTable();
                    };
                    pagination.appendChild(nextButton);
                }
            }
        }

        function highlightSearchTerm(text) {
            const searchTerm = document.getElementById('searchInput').value.trim();
            if (!searchTerm) return text;
            
            const regex = new RegExp(`(${searchTerm})`, 'gi');
            return text.replace(regex, '<span class="highlight">$1</span>');
        }

        function updateStats() {
            document.getElementById('totalCount').textContent = normativas.length;
            document.getElementById('filteredCount').textContent = filteredData.length;
            document.getElementById('leyCount').textContent = normativas.filter(n => n.tipo === 'ley').length;
            document.getElementById('decretoCount').textContent = normativas.filter(n => n.tipo === 'decreto').length;
            document.getElementById('resolucionCount').textContent = normativas.filter(n => n.tipo === 'resolucion').length;
            document.getElementById('provincialCount').textContent = normativas.filter(n => n.tipo === 'provincial').length;
        }

        function exportData(format) {
            const dataToExport = filteredData.map(item => ({
                Número: item.numero,
                Normativa: item.nombre,
                Tipo: item.tipoLabel,
                Descripción: item.descripcion,
                Ejemplo: item.ejemplo
            }));
            
            if (format === 'csv') {
                const csvContent = "data:text/csv;charset=utf-8," 
                    + "Número,Normativa,Tipo,Descripción,Ejemplo\n"
                    + dataToExport.map(e => 
                        `"${e.Número}","${e.Normativa}","${e.Tipo}","${e.Descripción}","${e.Ejemplo}"`
                    ).join("\n");
                
                const encodedUri = encodeURI(csvContent);
                const link = document.createElement("a");
                link.setAttribute("href", encodedUri);
                link.setAttribute("download", "900_normativas_medicas_argentina.csv");
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            } else {
                // Simular exportación a Excel
                alert(`Preparando exportación a Excel de ${filteredData.length} normativas...`);
            }
            
            alert(`Datos exportados exitosamente. Se exportaron ${filteredData.length} normativas en formato ${format.toUpperCase()}.`);
        }

        function resetFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('typeFilter').value = '';
            document.getElementById('sortFilter').value = 'number';
            filterData();
        }


    </script>
</body>
</html>